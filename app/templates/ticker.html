{% extends 'base.html' %}
{% block app_content %}
<div class="container">
    <h3> Ticker Page  
        <a href="{{url_for('stocks.get_stocks')}}">
            <button type="button" class="btn btn-outline-secondary">Home</button>
        </a>
    </h3>
    <style>
       body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px;
        }
      .container {
          max-width: 1000px;
          margin: 0 auto;
          padding: 20px;
        }
      
      .ticker-diagram {
          width: 100%;
          height: 100%;
          max-width: 800px;
          margin-bottom: 20px;
        }
      .ticker-container {
          width: 800px;
          margin: 0 auto;
        }
      .ticker-container table {
          width: 100%;
          border-collapse: collapse;
        }
      .ticker-container th, .ticker-container td {
          padding: 8px;
          text-align: left;
          border-bottom: 1px solid;
        }
  
      .price-history {
          width: 1000px;
          margin: 0 auto;
        }
  
      .price-history h1 {
        margin-top: 0;
        font-size: 24px;
        color: #333;
        }
  
      .price-history table {
        width: 100%;
        border-collapse: collapse;
        }
  
      .price-history th,
      .price-history td  {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid;
        }
    </style>    
  <body>
    <div class="ticker-container">
      <div class="ticker-diagram">
        <h1>{{ ticker_symbol }}</h1>
        <img src="data:image/png;base64,{{ diagram_data }}" alt="Diagram">
      </div>
      <div class="price-history">
        <h1>{{ ticker_symbol }} Price History</h1>
        <table>
          <tr>
            <th>Date</th>
            <th>Open</th>
            <th>High</th>
            <th>Low</th>
            <th>Close</th>
          </tr>
          {% for item in price_history %}
          <tr>
              <td>{{ item['Date'].strftime('%d-%m-%Y') }}</td>
              <td>{{ item['Open'] }}</td>
              <td>{{ item['High'] }}</td>
              <td>{{ item['Low'] }}</td>
              <td>{{ item['Close'] }}</td>
          </tr>
          {% endfor %}
        </table>
      </div>
    </div>
  </body>
</div>
{% endblock %}